# 配送カレンダー登録機能（スマートデリバリー）仕様書

## 概要
配送希望曜日を設定し、定期的な配送スケジュールを登録する機能。

## 機能要件

### 配送パターン選択
1. **月〜金曜日配送**: 平日のみ配送
2. **月〜土曜日配送**: 平日＋土曜日配送
3. **配送日カスタマイズ**: 任意の曜日を選択

### 曜日選択（カスタマイズ時のみ）
- 月曜〜土曜の6曜日から選択
- 複数選択可能
- 最低1つ以上の選択が必須
- 週3日以内の設定推奨（物流負荷軽減）

### バリデーション
- カスタマイズ選択時: 1つ以上の曜日選択必須
- エラーメッセージ: 「必ず一つ以上にチェックを入れてください」

### 注意事項（表示項目）
1. ご注文ごとに希望納期を入れることで設定曜日外の配送も可能です（日祝はご指定いただけません）
2. 希望日が祝日等配送を行っていない場合は次の希望曜日の配送となります
3. 在庫欠品が発生した場合は適用されない場合があります
4. トラックマーク商品、メーカー直送品、取寄せ商品、みつかるマート商品、スタンプ＆ネームプレート作成サービス等のサービス、FAXでのご注文には適用されません
5. 承認発注をご利用の場合、承認のタイミングによっては、希望曜日が適用できない場合があります
6. 複数回ご注文いただき、希望納期が同日となった場合でも梱包が分かれてお届けになることがあります

## UI仕様

### レイアウト
- マイページレイアウト（サイドバー + メインコンテンツ）
- ページタイトル: 「配送カレンダー登録機能(スマートデリバリー)」
- タイトル下にオレンジのライン

### コンポーネント
1. **ラジオボタングループ**: 配送パターン選択
2. **曜日選択テーブル**: カスタマイズ時のみ表示
3. **注意事項セクション**: グレー背景のボックス
4. **登録ボタン**: オレンジ色、中央配置

### インタラクション
- 配送パターン変更時: カスタマイズ以外選択でテーブル非表示
- 登録成功: トースト通知「配送カレンダーを登録しました」
- バリデーションエラー: ボタン下に赤文字で表示

## API仕様

### POST /api/delivery-calendar
配送カレンダー設定を保存

**リクエスト:**
```json
{
  "deliveryPattern": "weekdays" | "weekdaysAndSaturday" | "custom",
  "customDays": ["monday", "tuesday", ...] // customの場合のみ
}
```

**レスポンス:**
```json
{
  "success": true,
  "message": "配送カレンダーを登録しました。"
}
```

## ファイル構成
- `src/types/delivery-calendar.ts` - 型定義
- `src/components/delivery-calendar/DeliveryCalendarForm.tsx` - フォームコンポーネント
- `src/components/delivery-calendar/__tests__/DeliveryCalendarForm.test.tsx` - テスト
- `src/app/mypage/delivery-calendar/page.tsx` - ページ
- `src/app/api/delivery-calendar/route.ts` - API
